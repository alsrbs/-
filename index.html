<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="example.css">
</head>

<body>
  <div id="title">이벤트 버블링</div>
  <p>
    한 요소에 이벤트가 발생하면, 이 요소에 할당된 핸들러가 동작하고, 이어서 부모 요소의 핸들러가 동작합니다. 
    <br>
    가장 최상단의 조상 요소를 만날 때까지 이 과정이 반복되면서 요소 각각에 할당된 핸들러가 동작합니다.
  </p>

  <!-- 이벤트 버블링 흐름 -->
  <form onclick="alert('form')" class="form">FORM
    <div onclick="alert('div')" class="form">DIV
      <p onclick="alert('p')" class="form">P</p>
    </div>
  </form>

  <br>
  <p>클릭하면 <code>event.target</code>과 <code>this</code>정보를 볼 수 있습니다.</p>

  <!-- event.target과 this정보 -->
  <form id="form">FORM
    <div id="div">DIV
      <p id="p">P</p>
    </div>
  </form>

  <div style="margin: 80px;"></div>

  <div id="title" style="margin-bottom: 30px;">버블링 중단하기</div>

  <!-- stopPropagation 이벤트 중단하기1 -->
  <form onclick="alert(`버블링은 여기까지 도달하지 못합니다.`)" class="form">FORM
    <div onclick="event.stopPropagation()" class="form">DIV
      <p onclick="alert('p')" class="form">P</p>
    </div>
  </form>

  <p style="font-weight: bold;">
    event.stopPropagation()
  </p>
  <p style="width:50%;">
    이 메서드는 현재 이벤트가 발생한 요소에서의 이벤트 전파만 중지시킵니다.
    <br><br>
    즉, 현재 이벤트가 발생한 요소의 부모 요소로 이벤트가 계속 전파되는 이벤트 버블링을 중지합니다.
    <br><br>
    그러나 같은 요소에 연결된 다른 이벤트 핸들러는 계속해서 실행될 수 있습니다.
  </p>
  <!-- stopImmediatePropagation 이벤트 중단하기2 -->
  <button id="myButton">Click Me</button>

  <p style="font-weight: bold;">
    event.stopImmediatePropagation()
  </p>
  <p style="width:50%;">
    이 메서드는 stopPropagation()과 같은 역할을 하면서도 더 나아가, 같은 요소에 연결된 다른 이벤트 핸들러의 실행도 즉시 중지시킵니다.
    <br><br>
    즉, 현재 이벤트가 발생한 요소에서의 이벤트 전파뿐만 아니라, 같은 요소에 할당된 다른 이벤트 핸들러의 실행도 중지됩니다.
    <br><br>
    이 메서드를 호출하면 현재 요소의 이벤트 버블링 뿐만 아니라 즉시 현재 요소의 다른 이벤트 핸들러의 실행도 멈추게 됩니다.
  </p>
  <p>
    따라서 stopPropagation()은 현재 요소에서의 이벤트 전파만 중지시키고, stopImmediatePropagation()은 현재 요소에서의 이벤트 전파뿐만 아니라 같은 요소에 할당된 다른 이벤트 핸들러의 실행도 중지시킵니다.
  </p>

  <div id="title" style="margin-bottom: 30px;">캡처링</div>
  <!-- 이벤트 흐름 -->
  <form class="form">FORM
    <div class="form">DIV
      <p class="form">P</p>
    </div>
  </form>

  <script src="script.js"></script>
</body>
</html>